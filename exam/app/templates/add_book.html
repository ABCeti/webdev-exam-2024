{% extends 'base.html' %}

{% block title %}Добавить книгу{% endblock %}

{% block content %}
    <h1 class="text-center">Добавить книгу</h1>
    <form method="POST" action="{{ url_for('add_book') }}" enctype="multipart/form-data" class="mt-4">
        <div class="form-group">
            <label for="title">Название:</label>
            <input type="text" name="title" id="title" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="description">Описание:</label>
            <textarea name="description" id="description" class="form-control" required></textarea>
        </div>
        <div class="form-group">
            <label for="year">Год:</label>
            <input type="number" name="year" id="year" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="publisher">Издательство:</label>
            <input type="text" name="publisher" id="publisher" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="author">Автор:</label>
            <input type="text" name="author" id="author" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="pages">Страниц:</label>
            <input type="number" name="pages" id="pages" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="cover">Обложка (файл):</label>
            <input type="file" name="cover" id="cover" class="form-control-file" required>
        </div>
        <button type="submit" class="btn btn-primary">Сохранить</button>
    </form>

    {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }} mt-3">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}
{% endblock %}
